<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Ember Benchmarks</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap-theme.min.css">
    <script src="vendor/loader.js"></script>
    <script src="lib/hbs.js"></script>
    <script src="lib/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>

    <script src="node_modules/lodash/lodash.js"></script>
    <script src="node_modules/benchmark/benchmark.js"></script>
    <style>
      .row {
        padding-top: 2em;
      }
      .light {
        font-weight: 200;
      }
    </style>

    <script>
      define('benchmark', [], function() {
        return Benchmark;
      });

      window.ENV = {
        FEATURES: {
          composableComputedProperties: true
        }
      };
    </script>

    <script src="implementations/ember.js"></script>
    <script>
      var EmberMaster = Ember;
      define('EmberMaster', [], function() {
        return EmberMaster;
      });

      delete Ember;
   </script>

    <script src="implementations/ember-ccp-flagged.js"></script>
    <script>
      var EmberFeatureFlagged = Ember;
      define('EmberFeatureFlagged', [], function() {
        return EmberFeatureFlagged;
      });

      delete Ember;
   </script>

    <script src="implementations/ember-ccp-on.js"></script>
    <script>
      var EmberFeatured = Ember;
      define('EmberFeatured', [], function() {
        return EmberFeatured;
      });
   </script>
  </head>
  <body>

   <script src="tmp/public/ember-benchmarks.amd.js"></script>

   <script>
     require('main').run();
   </script>

   <script type="text/x-handlebars">
     <div class="container">
       {{outlet}}
     </div>
   </script>
   <script type="text/x-handlebars" id="index">
     <div class="page-header">
       <h2>Ember Benchmarks</h2>
       <p class="lead">Benchmarks yo.</p>
     </div>
     <div class="row">
       <table class="table table-hover">
         <thead>
           <tr>
             <th>Suite Name</th>
             <th>Benchmark</th>
           </tr>
         </thead>
         <tbody>
           {{#each suites}}
             <tr>
               <td {{bind-attr
  rowSpan=suiteInfo.benchmarksCount}}>{{suiteInfo.name}}</td>
             </tr>
             {{#each benchmarks}}
               <tr><td {{bind-attr class="isFastest:success:danger"}}
  colspan="2">{{benchmarkInfo}}</td></tr>
             {{else}}
               <tr><td>Running benchmarks...</td></tr>
             {{/each}}
           {{/each}}
         </tbody>
       </table>
     </div>
     <div class="row">
       {{#if benchmarkErrors.length}}
         <h3 class="light">Errors</h3>
         <table class="table table-hover errors">
           <thead>
             <tr>
               <th>Suite Name</th>
               <th>Benchmark</th>
               <th>Message</th>
             </tr>
           </thead>
           <tbody>
             {{#each benchmarkErrors}}
               <tr>
                 <td>{{benchmarkName}}</td>
                 <td>{{name}}</td>
                 <td class="danger">{{error.message}}</td>
               </tr>
             {{/each}}
           </tbody>
         </table>
       {{/if}}
     </div>
   </script>
  </body>
</html>
